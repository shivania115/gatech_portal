(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports=a(342)},340:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(16),r=a.n(o),c=a(25),l=a.n(c),s=a(73),u=a(8),m=a(11),d=a(128),g=a(40),p=a(164),h=a(187),f=p.a,b=Object(g.a)(h,["geoPath"]),y=Object(n.createContext)(),E=function(e){var t=e.width,a=e.height,o=e.offsetX,r=e.offsetY,c=e.projection,l=e.projectionConfig,s=Object(g.a)(e,["width","height","offsetX","offsetY","projection","projectionConfig"]),u=l.center||[],d=Object(m.a)(u,2),p=d[0],h=d[1],E=l.rotate||[],v=Object(m.a)(E,3),j=v[0],O=v[1],x=v[2],C=l.parallels||[],w=Object(m.a)(C,2),N=w[0],S=w[1],k=l.scale||null,M=Object(n.useMemo)(function(){return function(e){var t=e.projectionConfig,a=void 0===t?{}:t,n=e.projection,i=void 0===n?"geoEqualEarth":n,o=e.width,r=void 0===o?800:o,c=e.height,l=void 0===c?600:c,s=e.offsetX,u=void 0===s?0:s,m=e.offsetY,d=void 0===m?0:m;if("function"===typeof i)return i;var g=a.scale||null,p=b[i]().translate([r/2+u*g/1e3,l+d*g/1e3]).rotate([82+10/60,-30]).scale(100);return[p.center?"center":null,p.rotate?"rotate":null,p.scale?"scale":null,p.parallels?"parallels":null].forEach(function(e){e&&(p=p[e](a[e]||p[e]()))}),p}({projectionConfig:{center:p||0===p||h||0===h?[p,h]:null,rotate:j||0===j||O||0===O?[j,O,x]:null,parallels:N||0===N||S||0===S?[N,S]:null,scale:k},projection:c,width:t,height:a,offsetX:o,offsetY:r})},[t,a,c,p,h,j,O,x,N,S,k,o,r]),F=Object(n.useCallback)(M,[M]),D=Object(n.useMemo)(function(){return{width:t,height:a,projection:F,path:f().projection(F)}},[t,a,F]);return i.a.createElement(y.Provider,Object.assign({value:D},s))},v=a(48),j=a(188);function O(e,t){if(Array.isArray(e))return t?t(e):e;var a=Object(j.a)(e,e.objects[Object.keys(e.objects)[0]]).features;return console.log(e.objects[Object.keys(e.objects)[0]]),t?t(a):a}function x(e){var t=e.geography,a=e.parseGeographies,i=Object(n.useContext)(y).path,o=Object(n.useState)(),r=Object(m.a)(o,2),c=r[0],l=r[1];return Object(n.useEffect)(function(){var e;"undefined"!==typeof window&&("string"===typeof t?(e=t,fetch(e).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})).then(function(e){e&&l(O(e,a))}):l(O(t,a)))},[t,a]),{geographies:Object(n.useMemo)(function(){return function(e,t){return e?e.map(function(e,a){return Object(v.a)({},e,{rsmKey:"geo-".concat(a),svgPath:t(e)})}):[]}(c,i)},[c,i])}}var C=function(e){var t=e.geography,a=e.children,o=e.parseGeographies,r=e.className,c=void 0===r?"":r,l=Object(g.a)(e,["geography","children","parseGeographies","className"]),s=Object(n.useContext)(y),u=s.path,m=s.projection,d=x({geography:t,parseGeographies:o}).geographies;return i.a.createElement("g",Object.assign({className:"rsm-geographies ".concat(c),height:100},l),d&&d.length>0&&a({geographies:d,path:u,projection:m}))},w=Object(n.memo)(function(e){var t=e.geography,a=e.onMouseEnter,o=e.onMouseLeave,r=e.onMouseDown,c=e.onMouseUp,l=e.onFocus,s=e.onBlur,u=e.style,d=void 0===u?{}:u,p=e.className,h=void 0===p?"":p,f=Object(g.a)(e,["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"]),b=Object(n.useState)(!1),y=Object(m.a)(b,2),E=y[0],v=y[1],j=Object(n.useState)(!1),O=Object(m.a)(j,2),x=O[0],C=O[1];return i.a.createElement("path",Object.assign({tabIndex:"0",className:"rsm-geography ".concat(h),d:t.svgPath,onMouseEnter:function(e){C(!0),a&&a(e)},onMouseLeave:function(e){C(!1),E&&v(!1),o&&o(e)},onFocus:function(e){C(!0),l&&l(e)},onBlur:function(e){C(!1),E&&v(!1),s&&s(e)},onMouseDown:function(e){v(!0),r&&r(e)},onMouseUp:function(e){v(!1),c&&c(e)},style:d[E||x?E?"pressed":"hover":"default"]},f))}),N=function(e){var t=e.width,a=void 0===t?800:t,n=e.height,o=void 0===n?600:n,r=e.offsetX,c=void 0===r?0:r,l=e.offsetY,s=void 0===l?0:l,u=e.projection,m=void 0===u?"geoEqualEarth":u,d=e.projectionConfig,p=void 0===d?{}:d,h=e.className,f=void 0===h?"":h,b=Object(g.a)(e,["width","height","offsetX","offsetY","projection","projectionConfig","className"]);return i.a.createElement(E,{width:a,height:o,offsetX:c,offsetY:s,projection:m,projectionConfig:p},i.a.createElement("svg",Object.assign({width:a,height:o,className:"rsm-svg ".concat(f)},b)))},S=a(377),k=i.a.createContext();function M(){var e=i.a.useContext(k);if(!e)throw new Error("useGADM must be used within a GADMProvider");return e}function F(e){var t=i.a.useState({selectedTable:{tableName:"Demographic Composition",qryName:"Demographic Composition"},selectedVariable:{varName:"65 years or older",printName:"% 65 years and older",unit:"(%)"},selectedCounty:{NAME:"Fulton",GEOID:"13121"},fetchedData:[]}),a=Object(m.a)(t,2),n=a[0],o=a[1],r=function(e){o(Object(v.a)({},n,e))},c=i.a.useMemo(function(){var e=n.selectedTable,t=n.selectedVariable,a=n.selectedCounty,i=n.fetchedData;n.firstRender;return{selectedTable:e,selectedVariable:t,selectedCounty:a,fetchedData:i,actions:{handlePageStateChange:r}}},[n]);return i.a.createElement(k.Provider,{value:c},e.children)}var D=a(45),A=D.c.hasAppClient("test-owzgf")?D.c.getAppClient("test-owzgf"):D.c.initializeAppClient("test-owzgf");function L(){var e=new D.a;return A.auth.loginWithCredential(e)}function z(){return A.auth.isLoggedIn?A.auth.user:null}function T(){var e=z();return A.auth.logoutUserWithId(e.id)}var R=i.a.createContext();function q(){var e=i.a.useContext(R);if(!e)throw new Error("useStitchAuth must be used within a StitchAuthProvider");return e}function I(e){var t=i.a.useState({isLoggedIn:A.auth.isLoggedIn,currentUser:z()}),a=Object(m.a)(t,2),n=a[0],o=a[1],r=function(){var e=Object(s.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isLoggedIn){e.next=6;break}return e.next=4,L();case 4:t=e.sent,o(Object(v.a)({},n,{isLoggedIn:!0,currentUser:t}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isLoggedIn){e.next=7;break}return e.next=4,T();case 4:o(Object(v.a)({},n,{isLoggedIn:!1,currentUser:null})),e.next=8;break;case 7:console.log("can't handleLogout when no user is logged in");case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=i.a.useMemo(function(){return{isLoggedIn:n.isLoggedIn,currentUser:n.currentUser,actions:{handleAnonymousLogin:r,handleLogout:c}}},[n.isLoggedIn]);return i.a.createElement(R.Provider,{value:u},e.children)}a(343);var B=a(376),P=a(371),W=a(10),H=a.n(W),G=a(372),V="https://raw.githubusercontent.com/deldersveld/topojson/master/countries/us-states/GA-13-georgia-counties.json";function K(e){var t=Object(n.useState)(0),a=Object(m.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)("Fulton County"),l=Object(m.a)(c,2),s=l[0],u=l[1],g=Object(n.useState)(10.4),p=Object(m.a)(g,2),h=p[0],f=p[1],b=M(),y=b.selectedVariable,E=(b.selectedTable,b.selectedCounty),v=b.fetchedData,j=b.actions.handlePageStateChange,O=["#cbdcf1","#85B2E0","#2966A3","#0A335C"],x=Object(n.useState)(0),k=Object(m.a)(x,2),F=k[0],D=k[1],A=Object(n.useState)([]),L=Object(m.a)(A,2),z=L[0],T=L[1],R=Object(n.useState)(),q=Object(m.a)(R,2),I=q[0],W=q[1],K=Object(n.useState)(),U=Object(m.a)(K,2),$=U[0],X=U[1];Object(n.useEffect)(function(){var e=H.a.filter(v,{subsubgroup:y.varName}),t=H.a.map(e,"value");t=t.filter(function(e){return"N/A"!==e}),W(Math.min.apply(Math,Object(d.a)(t)).toFixed(1)),X(Math.max.apply(Math,Object(d.a)(t)).toFixed(1));var a=Object(S.a)().domain(t).range(O),n={};"Cardiologists"===y.varName||"Endocrinologists"===y.varName?H.a.forEach(e,function(e){if(0==e.value)n[e.county]="#D4E5F7";else{t=t.filter(function(e){return"N/A"!==e&&0!==e}),a=Object(S.a)().domain(t).range(O.slice(1,4)),n[e.county]=a(e.value);var i=a.quantiles();T([0].concat(i)),console.log("sq ",z)}}):(H.a.forEach(e,function(e){n[e.county]=a(e.value)}),T(a.quantiles())),D(n),console.log(a),console.log("sqr ",z)},[y,v]);var Y=Object(P.a)(function(e){return{customSize:{width:120,height:56,position:"fixed",top:"10px",left:"-135px",fontSize:"0.85rem",padding:"0 0.9rem",display:"flex",alignItems:"center"}}})();return Object(n.useEffect)(function(){var e=H.a.map(H.a.filter(v,{subsubgroup:y.varName,county:s}),"value");if("N/A"!==e){var t=(e+"").split(".");void 0!==t[1]&&t[1].length>2&&(e=parseFloat(e).toFixed(1))}f(e)},[s,v,y]),console.log("fetch",v),v.length>10?i.a.createElement("div",null,i.a.createElement("div",null,function(){var e,t;return e=I>999999?i.a.createElement("text",{x:37,y:35,style:{fontSize:"0.7em"}},(I/1e6).toFixed(1)+"M"," "):I>999?i.a.createElement("text",{x:37,y:35,style:{fontSize:"0.7em"}},(I/1e3).toFixed(1)+"K"," "):i.a.createElement("text",{x:37,y:35,style:{fontSize:"0.7em"}},I),t=$>999999?i.a.createElement("text",{x:80+20*(O.length-1),y:35,style:{fontSize:"0.7em"}},($/1e6).toFixed(1)+"M"," "):$>999?i.a.createElement("text",{x:80+20*(O.length-1),y:35,style:{fontSize:"0.7em"}},($/1e3).toFixed(1)+"K"," "):i.a.createElement("text",{x:80+20*(O.length-1),y:35,style:{fontSize:"0.7em"}},$),I>999&&$<999999&&(e=i.a.createElement("text",{x:40,y:35,style:{fontSize:"0.7em"}},(I/1e3).toFixed(1)," "),t=i.a.createElement("text",{x:80+20*(O.length-1),y:35,style:{fontSize:"0.7em"}},($/1e3).toFixed(1)," ")),Object.keys(F).length>0&&I>999&&$<999999?i.a.createElement("svg",{width:"280",height:"80",transform:"translate(-10,-20)"},H.a.map(z,function(e,t){return i.a.createElement("text",{key:t,x:64+24*t,y:35,style:{fontSize:"0.6em"}}," ",(z[t]/1e3).toFixed(1))}),e,t,H.a.map(O,function(e,t){return i.a.createElement("rect",{key:t,x:50+24*t,y:40,width:"22",height:"20",style:{fill:e,strokeWidth:1,stroke:e}})}),i.a.createElement("text",{x:30,y:74,style:{fontSize:"0.7em"}},"Low (K",y.unit,")"),i.a.createElement("text",{x:80+20*(O.length-1),y:74,style:{fontSize:"0.7em"}},"High (K",y.unit,")"),i.a.createElement("rect",{x:200,y:40,width:"20",height:"20",style:{fill:"#FFFFFF",strokeWidth:.5,stroke:"#000000"}}),i.a.createElement("text",{x:225,y:48,style:{fontSize:"0.7em"}}," None "),i.a.createElement("text",{x:225,y:58,style:{fontSize:"0.7em"}}," Reported ")):Object.keys(F).length>0?i.a.createElement("svg",{width:"280",height:"80",transform:"translate(-10,-20)"},H.a.map(z,function(e,t){return z[t]<1?i.a.createElement("text",{key:t,x:64+24*t,y:35,style:{fontSize:"0.6em"}}," ",z[t].toFixed(1)):z[t]>999999?i.a.createElement("text",{key:t,x:64+24*t,y:35,style:{fontSize:"0.6em"}}," ",(z[t]/1e6).toFixed(1)+"M"):z[t]>999?i.a.createElement("text",{key:t,x:64+24*t,y:35,style:{fontSize:"0.6em"}}," ",(z[t]/1e3).toFixed(1)+"K"):i.a.createElement("text",{key:t,x:64+24*t,y:35,style:{fontSize:"0.6em"}}," ",z[t].toFixed(1))}),e,t,H.a.map(O,function(e,t){return i.a.createElement("rect",{key:t,x:50+24*t,y:40,width:"22",height:"20",style:{fill:e,strokeWidth:1,stroke:e}})}),i.a.createElement("text",{x:30,y:74,style:{fontSize:"0.7em"}},"Low ",y.unit),i.a.createElement("text",{x:80+20*(O.length-1),y:74,style:{fontSize:"0.7em"}},"High ",y.unit),i.a.createElement("rect",{x:200,y:40,width:"20",height:"20",style:{fill:"#FFFFFF",strokeWidth:.5,stroke:"#000000"}}),i.a.createElement("text",{x:225,y:48,style:{fontSize:"0.7em"}}," None "),i.a.createElement("text",{x:225,y:58,style:{fontSize:"0.7em"}}," Reported ")):void 0}()),i.a.createElement(B.a,{id:"tooltip",placement:"top-end",open:o>-1,classes:{tooltip:Y.customSize},title:i.a.createElement("p",null,s,i.a.createElement("br",null),"Value: ",function(e){e=e.toString();for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}(h))},i.a.createElement("div",null,i.a.createElement(N,{projection:"geoTransverseMercator","data-tip":"",width:560,height:530,strokeWidth:.5,stroke:"black",projectionConfig:{scale:5500}},i.a.createElement(C,{geography:V,transform:"translate(50,-40)"},function(e){var t=e.geographies;return i.a.createElement("svg",null,t.map(function(e){return i.a.createElement(w,{key:e.rsmKey,geography:e,onClick:function(){j({selectedCounty:e.properties})},onMouseEnter:function(){r(e.properties.GEOID),u(e.properties.NAME+" County")},onMouseLeave:function(){r(0),u(E.NAME+" County")},fill:o===e.properties.GEOID?"#f2a900":void 0===F[e.properties.NAME+" County"]?"white":F[e.properties.NAME+" County"],strokeWidth:E.GEOID===e.properties.GEOID?3.5:.5,stroke:E.GEOID===e.properties.GEOID?"#da291c":"black"})}))}))))):i.a.createElement(G.a,{active:!0,inline:"centered",style:{marginTop:"10rem"}})}var U=a(379),$=a(378),X=a(382),Y=a(381),J=a(383),Q=a(373),Z=a(374),_=a(375),ee=a(386),te=A.getServiceClient(D.b.factory,"mongodb-atlas").db("healthequity").collection("gatech");function ae(e){var t=H.a.map(e.categories,"cat"),a=H.a.map(e.categories,"unit"),o=Object(n.useState)([]),r=Object(m.a)(o,2),c=r[0],l=r[1],s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],g=u[1],p=M(),h=p.selectedCounty,f=p.selectedTable,b=p.selectedVariable,y=p.fetchedData,E=p.actions.handlePageStateChange;function v(e){e=e.toString();for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}Object(n.useEffect)(function(){!function(){var e=H.a.sortBy(H.a.filter(H.a.reject(y,["subsubgroup","% Diabetes in Medicaid Population"]),{subgroup:f.qryName,county:h.NAME+" County"}),["subsubgroup"]);l(e),console.log("count ",e);var t,a=H.a.sortBy(H.a.groupBy(H.a.filter(H.a.reject(y,["subsubgroup","% Diabetes in Medicaid Population"]),{subgroup:f.qryName}),"subsubgroup"),["subsubgroup"]),n=[];for(t in a){var i=H.a.meanBy(H.a.reject(a[t],["value","N/A"]),function(e){return e.value});n.push(i.toFixed(1))}console.log("avg ",n),g(n)}()},[h,f,y]);var j=c.map(function(e,n){var o;if("N/A"!==e.value){var r=(e.value+"").split(".");o=void 0!==r[1]&&r[1].length>2?e.value.toFixed(1):e.value}else o=e.value;return i.a.createElement(U.a.Row,{key:n,onClick:function(){E({selectedVariable:{varName:e.subsubgroup,printName:t[n],unit:a[n]}})},active:b.printName===t[n]},i.a.createElement(U.a.Cell,{style:{fontSize:"0.9em",verticalAlign:"middle",textAlign:"left",paddingLeft:"0.5em"}},t[n]),i.a.createElement(U.a.Cell,{style:{fontSize:"0.9em",verticalAlign:"middle",textAlign:"center",paddingLeft:"0.2em",paddingRight:"0.2em"}},v(o)),i.a.createElement(U.a.Cell,{style:{fontSize:"0.9em",verticalAlign:"middle",textAlign:"center",paddingLeft:"0.2em",paddingRight:"0.2em"}},v(d[n])))});return i.a.createElement(U.a.Body,null,j)}function ne(){var e=M(),t=e.selectedTable,a=e.selectedVariable,o=e.fetchedData,r=e.actions.handlePageStateChange,c=Object(n.useState)(),l=Object(m.a)(c,2),s=l[0],d=l[1];Object(n.useEffect)(function(){var e=H.a.groupBy(H.a.sortBy(H.a.filter(H.a.reject(o,["subsubgroup","% Diabetes in Medicaid Population"]),{subgroup:t.qryName}),"subsubgroup"),"subsubgroup");d(Object.keys(e))},[t]);var g,p,h,f,b,y,E="Demographic Composition"===t.tableName?[{cat:"% 65 years and older",unit:"(%)"},{cat:"% Black/African American",unit:"(%)"},{cat:"% Asian",unit:"(%)"},{cat:"% Foreign born",unit:"(%)"},{cat:"% Hispanic",unit:"(%)"},{cat:"Median age (y)",unit:"(y)"},{cat:"Total Population, thousands",unit:"(K)"},{cat:"% Women",unit:"(%)"}]:"Cardiometabolic disease morbidity"===t.qryName?[{cat:"% CHD Prevalence in Medicaid population",unit:"(%)"},{cat:"% Diabetes",unit:"(%)"},{cat:"% Hypertension in Medicaid population",unit:"(%)"},{cat:"Newly diagnosed diabetes (new cases per 1,000)",unit:"(per K)"},{cat:"% Obese",unit:"(%)"}]:"Clinical events"===t.qryName?[{cat:"CVD deaths per 100,000",unit:"(per M)"},{cat:"CVD hospitalizations per 100,000",unit:"(per M)"},{cat:"Diabetes deaths per 100,000",unit:"(per M)"},{cat:"Diabetes hospitalizations per 100,000",unit:"(per M)"},{cat:"Kidney hospitalizations per 100,000",unit:"(per M)"}]:"Lifestyle Related Risk Factors"===t.qryName?[{cat:"% Excessive drinkers",unit:"(%)"},{cat:"% Physically inactive",unit:"(%)"},{cat:"% Insufficient sleep (<7 hours)",unit:"(%)"},{cat:"% Current smokers",unit:"(%)"}]:"Healthcare"===t.qryName?[{cat:"Cardiologists",unit:""},{cat:"Endocrinologists",unit:""},{cat:"Primary care doctors (ratio of population to primary care physicians)",unit:""},{cat:"% Uninsured",unit:"(%)"}]:"Socioeconomic Factors"===t.qryName?[{cat:"% Graduates high school in 4 years",unit:"(%)"},{cat:"% In poverty",unit:"(%)"},{cat:"Income inequality",unit:""},{cat:"Median income ($)",unit:"$"},{cat:"% Unemployed",unit:"(%)"}]:"Environmental Factors"===t.qryName?[{cat:"% Exercise opportunities",unit:"(%)"},{cat:"Food environment index",unit:""},{cat:"Residential segregation score",unit:""},{cat:"% Severe housing problems",unit:"(%)"}]:void 0,v=E.map(function(e,t){return i.a.createElement($.a.Item,{key:t,active:a.printName===e.cat,onMouseDown:function(){r({selectedVariable:{varName:s[t],printName:e.cat,unit:e.unit}})}},e.cat)});return console.log("var ",a.printName),console.log("cat ",E),o.length>10?i.a.createElement(X.a.Column,null,i.a.createElement(Y.a,{vertical:!0,tabular:!0,style:{width:"96%",fontSize:"0.9rem",verticalAlign:"middle"}},i.a.createElement($.a,{item:!0,openOnFocus:!1,pointing:"left",closeOnBlur:!0,text:"Demographic Composition",style:{lineHeight:"1.3em",height:"4rem"},direction:"right",active:("Demographic Composition"===t.tableName).toString(),onClick:function(){r({selectedTable:{tableName:"Demographic Composition",qryName:"Demographic Composition"}})}},i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(g={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(g,"closeOnBlur",!0),Object(u.a)(g,"text","Cardiometabolic Disease Morbidity"),Object(u.a)(g,"style",{lineHeight:"1.3em",height:"4rem"}),Object(u.a)(g,"active",("Cardiometabolic Disease Morbidity"===t.tableName).toString()),Object(u.a)(g,"onClick",function(){r({selectedTable:{tableName:"Cardiometabolic Disease Morbidity",qryName:"Cardiometabolic disease morbidity"}})}),g),i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(p={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(p,"closeOnBlur",!0),Object(u.a)(p,"text","Clinical Events"),Object(u.a)(p,"style",{lineHeight:"2.2rem",height:"4rem"}),Object(u.a)(p,"active",("Clinical Events"===t.tableName).toString()),Object(u.a)(p,"onClick",function(){r({selectedTable:{tableName:"Clinical Events",qryName:"Clinical events"}})}),p),i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(h={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(h,"closeOnBlur",!0),Object(u.a)(h,"text","Lifestyle Related Risk Factors"),Object(u.a)(h,"style",{lineHeight:"1.3em",height:"4rem"}),Object(u.a)(h,"active",("Lifestyle Related Risk Factors"===t.tableName).toString()),Object(u.a)(h,"onClick",function(){r({selectedTable:{tableName:"Lifestyle Related Risk Factors",qryName:"Lifestyle Related Risk Factors"}})}),h),i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(f={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(f,"closeOnBlur",!0),Object(u.a)(f,"text","Healthcare"),Object(u.a)(f,"style",{lineHeight:"2.2em",height:"4rem"}),Object(u.a)(f,"active",("Healthcare"===t.tableName).toString()),Object(u.a)(f,"onClick",function(){r({selectedTable:{tableName:"Healthcare",qryName:"Healthcare"}})}),f),i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(b={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(b,"closeOnBlur",!0),Object(u.a)(b,"text","Socioeconomic Factors"),Object(u.a)(b,"style",{lineHeight:"1.3em",height:"4rem"}),Object(u.a)(b,"active",("Socioeconomic Factors"===t.tableName).toString()),Object(u.a)(b,"onClick",function(){r({selectedTable:{tableName:"Socioeconomic Factors",qryName:"Socioeconomic Factors"}})}),b),i.a.createElement($.a.Menu,null,v)),i.a.createElement($.a,(y={item:!0,closeOnBlur:!0,openOnFocus:!1,pointing:"left"},Object(u.a)(y,"closeOnBlur",!0),Object(u.a)(y,"text","Environmental Factors"),Object(u.a)(y,"style",{lineHeight:"1.3em",height:"4rem"}),Object(u.a)(y,"active",("Environmental Factors"===t.tableName).toString()),Object(u.a)(y,"onClick",function(){r({selectedTable:{tableName:"Environmental Factors",qryName:"Environmental Factors"}})}),y),i.a.createElement($.a.Menu,null,v)))):i.a.createElement(G.a,{active:!0,inline:"centered",style:{marginTop:"5rem"}})}function ie(){var e=M().fetchedData;return i.a.createElement(X.a,null,i.a.createElement(X.a.Row,null,i.a.createElement(J.a,{as:"h4",style:{fontWeight:300,color:"#da291c",paddingLeft:"3em",paddingTop:"0.1rem"}},i.a.createElement("i",null,i.a.createElement("b",null,"Select an indicator")))),i.a.createElement(X.a.Row,{style:{paddingTop:"0.5rem",paddingLeft:"1.5rem",width:"95%",textAlign:"left",display:"undefined"!=e?"block":"none"}},i.a.createElement(ne,null)))}function oe(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(),c=Object(m.a)(r,2),u=c[0],d=c[1],g=M(),p=(g.selectedTable,g.selectedVariable),h=g.selectedCounty,f=g.fetchedData,b=g.actions.handlePageStateChange,y=q(),E=y.isLoggedIn,v=y.actions.handleAnonymousLogin,j=function(){var e=Object(s.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.find({},{projection:{subgroup:1,subsubgroup:1,value:1,county:1,desc:1,source:1}}).toArray();case 2:t=e.sent,b({fetchedData:t});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){!0===E?j():v()},[E]),Object(n.useEffect)(function(){var e=H.a.map(H.a.filter(f,{subsubgroup:p.varName,county:"Fulton County"}),"desc");o(e);var t=H.a.map(H.a.filter(f,{subsubgroup:p.varName,county:"Fulton County"}),"source");d(t)},[p,f]);return i.a.createElement(X.a,null,i.a.createElement(X.a.Row,null,i.a.createElement(X.a.Column,{style:{paddingLeft:"3rem"}},i.a.createElement(J.a,{as:"h3",style:{fontWeight:300}},"Characteristics of ",h.NAME," County",i.a.createElement(J.a.Subheader,{style:{fontWeight:300}},"The table below show diabetes-related health determinants of ",h.NAME," county.")))),i.a.createElement(X.a.Row,{columns:1},i.a.createElement(X.a.Row,null,i.a.createElement(J.a,{as:"h4",style:{fontWeight:300,color:"#da291c",paddingLeft:"5em"}},i.a.createElement("i",null,i.a.createElement("b",null,"Select a category of county characteristics for display")))),i.a.createElement(re,null)),i.a.createElement(X.a.Row,null,i.a.createElement(X.a.Column,{style:{paddingLeft:"5em",fontSize:"0.9rem",textAlign:"left"}},i.a.createElement("b",null,"Description: "),a,i.a.createElement("br",null),i.a.createElement("b",null,"Source: "),u)))}function re(){var e=M(),t=e.selectedTable,a=(e.selectedVariable,e.selectedCounty,e.fetchedData);e.actions.handlePageStateChange;return a.length>10?i.a.createElement(X.a.Column,{style:{paddingTop:"2.4em",paddingLeft:"6rem",textAlign:"center",height:"33rem"}},i.a.createElement(J.a,{block:!0,as:"h4",style:{fontWeight:550,width:"20rem",backgroundColor:"#012169",color:"whitesmoke",verticalAlign:"center",paddingTop:"0.4em",paddingBottom:"0.4em",border:"0",borderRadius:"0.6em 0em 0.6em 0em"}},t.tableName),i.a.createElement(U.a,{selectable:!0,basic:"very",fixed:!0,style:{width:"20rem"}},i.a.createElement(U.a.Header,null,i.a.createElement(U.a.Row,null,i.a.createElement(U.a.HeaderCell,{style:{borderTop:0,fontWeight:500,textAlign:"center",width:"50%"}},"Characteristic"),i.a.createElement(U.a.HeaderCell,{style:{borderTop:0,fontWeight:500,textAlign:"center",width:"27%",paddingLeft:"0",paddingRight:"0"}},"County"),i.a.createElement(U.a.HeaderCell,{style:{borderTop:0,fontWeight:500,textAlign:"center",width:"25%"}},"State"))),i.a.createElement(ae,{categories:"Demographic Composition"===t.tableName?[{cat:"% 65 years and older",unit:"(%)"},{cat:"% Black/African American",unit:"(%)"},{cat:"% Asian",unit:"(%)"},{cat:"% Foreign born",unit:"(%)"},{cat:"% Hispanic",unit:"(%)"},{cat:"Median age (y)",unit:"(y)"},{cat:"Total Population, thousands",unit:"(K)"},{cat:"% Women",unit:"(%)"}]:"Cardiometabolic disease morbidity"===t.qryName?[{cat:"% CHD Prevalence in Medicaid population",unit:"(%)"},{cat:"% Diabetes",unit:"(%)"},{cat:"% Hypertension in Medicaid population",unit:"(%)"},{cat:"Newly diagnosed diabetes (new cases per 1,000)",unit:"(per K)"},{cat:"% Obese",unit:"(%)"}]:"Clinical events"===t.qryName?[{cat:"CVD deaths per 100,000",unit:"(per M)"},{cat:"CVD hospitalizations per 100,000",unit:"(per M)"},{cat:"Diabetes deaths per 100,000",unit:"(per M)"},{cat:"Diabetes hospitalizations per 100,000",unit:"(per M)"},{cat:"Kidney hospitalizations per 100,000",unit:"(per M)"}]:"Lifestyle Related Risk Factors"===t.qryName?[{cat:"% Excessive drinkers",unit:"(%)"},{cat:"% Physically inactive",unit:"(%)"},{cat:"% Insufficient sleep (<7 hours)",unit:"(%)"},{cat:"% Current smokers",unit:"(%)"}]:"Healthcare"===t.qryName?[{cat:"Cardiologists",unit:""},{cat:"Endocrinologists",unit:""},{cat:"Primary care doctors (ratio of population to primary care physicians)",unit:""},{cat:"% Uninsured",unit:"(%)"}]:"Socioeconomic Factors"===t.qryName?[{cat:"% Graduates high school in 4 years",unit:"(%)"},{cat:"% In poverty",unit:"(%)"},{cat:"Income inequality",unit:""},{cat:"Median income ($)",unit:"$"},{cat:"% Unemployed",unit:"(%)"}]:"Environmental Factors"===t.qryName?[{cat:"% Exercise opportunities",unit:"(%)"},{cat:"Food environment index",unit:""},{cat:"Residential segregation score",unit:""},{cat:"% Severe housing problems",unit:"(%)"}]:void 0}))):i.a.createElement(X.a.Column,{style:{height:"33rem"}},i.a.createElement(G.a,{active:!0,inline:"centered",style:{marginTop:"11rem"}}))}function ce(){var e=M(),t=e.selectedVariable,a=(e.selectedCounty,e.fetchedData);e.actions.handlePageStateChange;if(a)return i.a.createElement(X.a,null,i.a.createElement(X.a.Row,null,i.a.createElement(X.a.Column,null,i.a.createElement(J.a,{as:"h3",style:{fontWeight:600,paddingLeft:"1rem",height:"3em",color:"#b58500"}},t.printName,i.a.createElement(J.a.Subheader,{style:{fontWeight:300,margin:"0em",paddingLeft:"0rem"}},"The color shows the distribution of ",t.printName," across the Georgia counties.")),i.a.createElement(J.a,{as:"h4",style:{fontWeight:300,paddingTop:"0em",paddingLeft:"4em",paddingBottom:"-1em",textAlign:"left",color:"#da291c"}},i.a.createElement("i",null,i.a.createElement("b",null,"Select a county to see detailed characteristics"))))),i.a.createElement(X.a.Row,{style:{padding:"0"}},i.a.createElement(X.a.Column,null,i.a.createElement(K,null))))}function le(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(0),c=Object(m.a)(r,2),l=c[0],s=c[1],u=0;return Object(n.useEffect)(function(){var e=document,t=e.documentElement,a=e.body;u=window.innerWidth||t.clientWidth||a.clientWidth,s(u),u<1200&&o(!0)},[l,window.innerWidth]),console.log(l),i.a.createElement(F,null,i.a.createElement(Q.a,null,i.a.createElement(X.a,{style:{paddingTop:"2em"}},i.a.createElement(X.a.Row,{centered:!0,columns:1,style:{background:"linear-gradient(to bottom, #0c2340, #012169)",height:"6rem"}},i.a.createElement(X.a.Column,{textAlign:"center"},i.a.createElement(J.a,{as:"h1",style:{fontWeight:500,color:"whitesmoke"}},"Georgia Diabetes Data Portal",i.a.createElement(J.a.Subheader,{style:{fontWeight:300,color:"whitesmoke"}},"Interactive Dashboard of Diabetes-Related Health Determinants")))),i.a.createElement(Z.a,null),i.a.createElement(X.a.Row,{centered:!0,columns:3,style:{display:a?"none":"block",paddingTop:"2em"}},i.a.createElement(X.a.Column,{width:3,textAlign:"center"},i.a.createElement(ie,null)),i.a.createElement(X.a.Column,{width:7,textAlign:"center"},i.a.createElement(ce,null)),i.a.createElement(X.a.Column,{width:6,textAlign:"center"},i.a.createElement(oe,null))),i.a.createElement(X.a.Row,{style:{display:a?"block":"none",textAlign:"left",color:"red",paddingTop:"4em",paddingLeft:"2em"}},i.a.createElement(X.a.Column,null,i.a.createElement(_.a,{severity:"error"},i.a.createElement(ee.a,{style:{fontSize:"1.3rem"}},"Warning"),"Please expand your browser window and refresh the page to view the content. If you are using a mobile device, please use a PC to visit this page."))))))}a(339),a(340);function se(){var e=q(),t=(e.isLoggedIn,e.actions),a=(t.handleLogout,t.handleAnonymousLogin);return Object(n.useEffect)(function(){a()},[]),i.a.createElement(le,null)}a(341);var ue=document.getElementById("root");r.a.render(i.a.createElement(function(){return i.a.createElement(I,null,i.a.createElement(se,null))},null),ue)}},[[207,1,2]]]);
//# sourceMappingURL=main.9fa0395c.chunk.js.map