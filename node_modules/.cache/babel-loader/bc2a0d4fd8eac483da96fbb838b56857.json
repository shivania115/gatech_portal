{"ast":null,"code":"/**\n * d3.tip\n * Copyright (c) 2013 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\n;\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module with d3 as a dependency.\n    define(['d3-collection', 'd3-selection'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    /* eslint-disable global-require */\n    // CommonJS\n    var d3Collection = require('d3-collection'),\n        d3Selection = require('d3-selection');\n\n    module.exports = factory(d3Collection, d3Selection);\n    /* eslint-enable global-require */\n  } else {\n    // Browser global.\n    var d3 = root.d3; // eslint-disable-next-line no-param-reassign\n\n    root.d3.tip = factory(d3, d3);\n  }\n})(this, function (d3Collection, d3Selection) {\n  // Public - contructs a new tooltip\n  //\n  // Returns a tip\n  return function () {\n    var direction = d3TipDirection,\n        offset = d3TipOffset,\n        html = d3TipHTML,\n        rootElement = document.body,\n        node = initNode(),\n        svg = null,\n        point = null,\n        target = null;\n\n    function tip(vis) {\n      svg = getSVGNode(vis);\n      if (!svg) return;\n      point = svg.createSVGPoint();\n      rootElement.appendChild(node);\n    } // Public - show the tooltip on the screen\n    //\n    // Returns a tip\n\n\n    tip.show = function () {\n      var args = Array.prototype.slice.call(arguments);\n      if (args[args.length - 1] instanceof SVGElement) target = args.pop();\n      var content = html.apply(this, args),\n          poffset = offset.apply(this, args),\n          dir = direction.apply(this, args),\n          nodel = getNodeEl(),\n          i = directions.length,\n          coords,\n          scrollTop = document.documentElement.scrollTop || rootElement.scrollTop,\n          scrollLeft = document.documentElement.scrollLeft || rootElement.scrollLeft;\n      nodel.html(content).style('opacity', 1).style('pointer-events', 'all');\n\n      while (i--) {\n        nodel.classed(directions[i], false);\n      }\n\n      coords = directionCallbacks.get(dir).apply(this);\n      nodel.classed(dir, true).style('top', coords.top + poffset[0] + scrollTop + 'px').style('left', coords.left + poffset[1] + scrollLeft + 'px');\n      return tip;\n    }; // Public - hide the tooltip\n    //\n    // Returns a tip\n\n\n    tip.hide = function () {\n      var nodel = getNodeEl();\n      nodel.style('opacity', 0).style('pointer-events', 'none');\n      return tip;\n    }; // Public: Proxy attr calls to the d3 tip container.\n    // Sets or gets attribute value.\n    //\n    // n - name of the attribute\n    // v - value of the attribute\n    //\n    // Returns tip or attribute value\n    // eslint-disable-next-line no-unused-vars\n\n\n    tip.attr = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().attr(n);\n      }\n\n      var args = Array.prototype.slice.call(arguments);\n      d3Selection.selection.prototype.attr.apply(getNodeEl(), args);\n      return tip;\n    }; // Public: Proxy style calls to the d3 tip container.\n    // Sets or gets a style value.\n    //\n    // n - name of the property\n    // v - value of the property\n    //\n    // Returns tip or style property value\n    // eslint-disable-next-line no-unused-vars\n\n\n    tip.style = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().style(n);\n      }\n\n      var args = Array.prototype.slice.call(arguments);\n      d3Selection.selection.prototype.style.apply(getNodeEl(), args);\n      return tip;\n    }; // Public: Set or get the direction of the tooltip\n    //\n    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n    //     sw(southwest), ne(northeast) or se(southeast)\n    //\n    // Returns tip or direction\n\n\n    tip.direction = function (v) {\n      if (!arguments.length) return direction;\n      direction = v == null ? v : functor(v);\n      return tip;\n    }; // Public: Sets or gets the offset of the tip\n    //\n    // v - Array of [x, y] offset\n    //\n    // Returns offset or\n\n\n    tip.offset = function (v) {\n      if (!arguments.length) return offset;\n      offset = v == null ? v : functor(v);\n      return tip;\n    }; // Public: sets or gets the html value of the tooltip\n    //\n    // v - String value of the tip\n    //\n    // Returns html value or tip\n\n\n    tip.html = function (v) {\n      if (!arguments.length) return html;\n      html = v == null ? v : functor(v);\n      return tip;\n    }; // Public: sets or gets the root element anchor of the tooltip\n    //\n    // v - root element of the tooltip\n    //\n    // Returns root node of tip\n\n\n    tip.rootElement = function (v) {\n      if (!arguments.length) return rootElement;\n      rootElement = v == null ? v : functor(v);\n      return tip;\n    }; // Public: destroys the tooltip and removes it from the DOM\n    //\n    // Returns a tip\n\n\n    tip.destroy = function () {\n      if (node) {\n        getNodeEl().remove();\n        node = null;\n      }\n\n      return tip;\n    };\n\n    function d3TipDirection() {\n      return 'n';\n    }\n\n    function d3TipOffset() {\n      return [0, 0];\n    }\n\n    function d3TipHTML() {\n      return ' ';\n    }\n\n    var directionCallbacks = d3Collection.map({\n      n: directionNorth,\n      s: directionSouth,\n      e: directionEast,\n      w: directionWest,\n      nw: directionNorthWest,\n      ne: directionNorthEast,\n      sw: directionSouthWest,\n      se: directionSouthEast\n    }),\n        directions = directionCallbacks.keys();\n\n    function directionNorth() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.n.y - node.offsetHeight,\n        left: bbox.n.x - node.offsetWidth / 2\n      };\n    }\n\n    function directionSouth() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.s.y,\n        left: bbox.s.x - node.offsetWidth / 2\n      };\n    }\n\n    function directionEast() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.e.y - node.offsetHeight / 2,\n        left: bbox.e.x\n      };\n    }\n\n    function directionWest() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.w.y - node.offsetHeight / 2,\n        left: bbox.w.x - node.offsetWidth\n      };\n    }\n\n    function directionNorthWest() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.nw.y - node.offsetHeight,\n        left: bbox.nw.x - node.offsetWidth\n      };\n    }\n\n    function directionNorthEast() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.ne.y - node.offsetHeight,\n        left: bbox.ne.x\n      };\n    }\n\n    function directionSouthWest() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.sw.y,\n        left: bbox.sw.x - node.offsetWidth\n      };\n    }\n\n    function directionSouthEast() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.se.y,\n        left: bbox.se.x\n      };\n    }\n\n    function initNode() {\n      var div = d3Selection.select(document.createElement('div'));\n      div.style('position', 'absolute').style('top', 0).style('opacity', 0).style('pointer-events', 'none').style('box-sizing', 'border-box');\n      return div.node();\n    }\n\n    function getSVGNode(element) {\n      var svgNode = element.node();\n      if (!svgNode) return null;\n      if (svgNode.tagName.toLowerCase() === 'svg') return svgNode;\n      return svgNode.ownerSVGElement;\n    }\n\n    function getNodeEl() {\n      if (node == null) {\n        node = initNode(); // re-add node to DOM\n\n        rootElement.appendChild(node);\n      }\n\n      return d3Selection.select(node);\n    } // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the directions\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n    // nw(northwest), sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n\n\n    function getScreenBBox() {\n      var targetel = target || d3Selection.event.target;\n\n      while (targetel.getScreenCTM == null && targetel.parentNode == null) {\n        targetel = targetel.parentNode;\n      }\n\n      var bbox = {},\n          matrix = targetel.getScreenCTM(),\n          tbbox = targetel.getBBox(),\n          width = tbbox.width,\n          height = tbbox.height,\n          x = tbbox.x,\n          y = tbbox.y;\n      point.x = x;\n      point.y = y;\n      bbox.nw = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.ne = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.se = point.matrixTransform(matrix);\n      point.x -= width;\n      bbox.sw = point.matrixTransform(matrix);\n      point.y -= height / 2;\n      bbox.w = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.e = point.matrixTransform(matrix);\n      point.x -= width / 2;\n      point.y -= height / 2;\n      bbox.n = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.s = point.matrixTransform(matrix);\n      return bbox;\n    } // Private - replace D3JS 3.X d3.functor() function\n\n\n    function functor(v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    }\n\n    return tip;\n  }; // eslint-disable-next-line semi\n});","map":{"version":3,"sources":["/Users/lisasun/Documents/Dashboard/MondoDB/portal_new/stitch-tutorial-todo-web/src/components/tip.js"],"names":["root","factory","define","amd","module","exports","d3Collection","require","d3Selection","d3","tip","direction","d3TipDirection","offset","d3TipOffset","html","d3TipHTML","rootElement","document","body","node","initNode","svg","point","target","vis","getSVGNode","createSVGPoint","appendChild","show","args","Array","prototype","slice","call","arguments","length","SVGElement","pop","content","apply","poffset","dir","nodel","getNodeEl","i","directions","coords","scrollTop","documentElement","scrollLeft","style","classed","directionCallbacks","get","top","left","hide","attr","n","v","selection","functor","destroy","remove","map","directionNorth","s","directionSouth","e","directionEast","w","directionWest","nw","directionNorthWest","ne","directionNorthEast","sw","directionSouthWest","se","directionSouthEast","keys","bbox","getScreenBBox","y","offsetHeight","x","offsetWidth","div","select","createElement","element","svgNode","tagName","toLowerCase","ownerSVGElement","targetel","event","getScreenCTM","parentNode","matrix","tbbox","getBBox","width","height","matrixTransform"],"mappings":"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","sourcesContent":["/**\n * d3.tip\n * Copyright (c) 2013 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module with d3 as a dependency.\n    define([\n      'd3-collection',\n      'd3-selection'\n    ], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    /* eslint-disable global-require */\n    // CommonJS\n    var d3Collection = require('d3-collection'),\n        d3Selection = require('d3-selection')\n    module.exports = factory(d3Collection, d3Selection)\n    /* eslint-enable global-require */\n  } else {\n    // Browser global.\n    var d3 = root.d3\n    // eslint-disable-next-line no-param-reassign\n    root.d3.tip = factory(d3, d3)\n  }\n}(this, function(d3Collection, d3Selection) {\n  // Public - contructs a new tooltip\n  //\n  // Returns a tip\n  return function() {\n    var direction   = d3TipDirection,\n        offset      = d3TipOffset,\n        html        = d3TipHTML,\n        rootElement = document.body,\n        node        = initNode(),\n        svg         = null,\n        point       = null,\n        target      = null\n\n    function tip(vis) {\n      svg = getSVGNode(vis)\n      if (!svg) return\n      point = svg.createSVGPoint()\n      rootElement.appendChild(node)\n    }\n\n    // Public - show the tooltip on the screen\n    //\n    // Returns a tip\n    tip.show = function() {\n      var args = Array.prototype.slice.call(arguments)\n      if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n      var content = html.apply(this, args),\n          poffset = offset.apply(this, args),\n          dir     = direction.apply(this, args),\n          nodel   = getNodeEl(),\n          i       = directions.length,\n          coords,\n          scrollTop  = document.documentElement.scrollTop ||\n            rootElement.scrollTop,\n          scrollLeft = document.documentElement.scrollLeft ||\n            rootElement.scrollLeft\n\n      nodel.html(content)\n        .style('opacity', 1).style('pointer-events', 'all')\n\n      while (i--) nodel.classed(directions[i], false)\n      coords = directionCallbacks.get(dir).apply(this)\n      nodel.classed(dir, true)\n        .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n        .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n      return tip\n    }\n\n    // Public - hide the tooltip\n    //\n    // Returns a tip\n    tip.hide = function() {\n      var nodel = getNodeEl()\n      nodel.style('opacity', 0).style('pointer-events', 'none')\n      return tip\n    }\n\n    // Public: Proxy attr calls to the d3 tip container.\n    // Sets or gets attribute value.\n    //\n    // n - name of the attribute\n    // v - value of the attribute\n    //\n    // Returns tip or attribute value\n    // eslint-disable-next-line no-unused-vars\n    tip.attr = function(n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().attr(n)\n      }\n\n      var args =  Array.prototype.slice.call(arguments)\n      d3Selection.selection.prototype.attr.apply(getNodeEl(), args)\n      return tip\n    }\n\n    // Public: Proxy style calls to the d3 tip container.\n    // Sets or gets a style value.\n    //\n    // n - name of the property\n    // v - value of the property\n    //\n    // Returns tip or style property value\n    // eslint-disable-next-line no-unused-vars\n    tip.style = function(n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().style(n)\n      }\n\n      var args = Array.prototype.slice.call(arguments)\n      d3Selection.selection.prototype.style.apply(getNodeEl(), args)\n      return tip\n    }\n\n    // Public: Set or get the direction of the tooltip\n    //\n    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n    //     sw(southwest), ne(northeast) or se(southeast)\n    //\n    // Returns tip or direction\n    tip.direction = function(v) {\n      if (!arguments.length) return direction\n      direction = v == null ? v : functor(v)\n\n      return tip\n    }\n\n    // Public: Sets or gets the offset of the tip\n    //\n    // v - Array of [x, y] offset\n    //\n    // Returns offset or\n    tip.offset = function(v) {\n      if (!arguments.length) return offset\n      offset = v == null ? v : functor(v)\n\n      return tip\n    }\n\n    // Public: sets or gets the html value of the tooltip\n    //\n    // v - String value of the tip\n    //\n    // Returns html value or tip\n    tip.html = function(v) {\n      if (!arguments.length) return html\n      html = v == null ? v : functor(v)\n\n      return tip\n    }\n\n    // Public: sets or gets the root element anchor of the tooltip\n    //\n    // v - root element of the tooltip\n    //\n    // Returns root node of tip\n    tip.rootElement = function(v) {\n      if (!arguments.length) return rootElement\n      rootElement = v == null ? v : functor(v)\n\n      return tip\n    }\n\n    // Public: destroys the tooltip and removes it from the DOM\n    //\n    // Returns a tip\n    tip.destroy = function() {\n      if (node) {\n        getNodeEl().remove()\n        node = null\n      }\n      return tip\n    }\n\n    function d3TipDirection() { return 'n' }\n    function d3TipOffset() { return [0, 0] }\n    function d3TipHTML() { return ' ' }\n\n    var directionCallbacks = d3Collection.map({\n          n:  directionNorth,\n          s:  directionSouth,\n          e:  directionEast,\n          w:  directionWest,\n          nw: directionNorthWest,\n          ne: directionNorthEast,\n          sw: directionSouthWest,\n          se: directionSouthEast\n        }),\n        directions = directionCallbacks.keys()\n\n    function directionNorth() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.n.y - node.offsetHeight,\n        left: bbox.n.x - node.offsetWidth / 2\n      }\n    }\n\n    function directionSouth() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.s.y,\n        left: bbox.s.x - node.offsetWidth / 2\n      }\n    }\n\n    function directionEast() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.e.y - node.offsetHeight / 2,\n        left: bbox.e.x\n      }\n    }\n\n    function directionWest() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.w.y - node.offsetHeight / 2,\n        left: bbox.w.x - node.offsetWidth\n      }\n    }\n\n    function directionNorthWest() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.nw.y - node.offsetHeight,\n        left: bbox.nw.x - node.offsetWidth\n      }\n    }\n\n    function directionNorthEast() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.ne.y - node.offsetHeight,\n        left: bbox.ne.x\n      }\n    }\n\n    function directionSouthWest() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.sw.y,\n        left: bbox.sw.x - node.offsetWidth\n      }\n    }\n\n    function directionSouthEast() {\n      var bbox = getScreenBBox()\n      return {\n        top:  bbox.se.y,\n        left: bbox.se.x\n      }\n    }\n\n    function initNode() {\n      var div = d3Selection.select(document.createElement('div'))\n      div\n        .style('position', 'absolute')\n        .style('top', 0)\n        .style('opacity', 0)\n        .style('pointer-events', 'none')\n        .style('box-sizing', 'border-box')\n\n      return div.node()\n    }\n\n    function getSVGNode(element) {\n      var svgNode = element.node()\n      if (!svgNode) return null\n      if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n      return svgNode.ownerSVGElement\n    }\n\n    function getNodeEl() {\n      if (node == null) {\n        node = initNode()\n        // re-add node to DOM\n        rootElement.appendChild(node)\n      }\n      return d3Selection.select(node)\n    }\n\n    // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the directions\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n    // nw(northwest), sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n    function getScreenBBox() {\n      var targetel   = target || d3Selection.event.target\n\n      while (targetel.getScreenCTM == null && targetel.parentNode == null) {\n        targetel = targetel.parentNode\n      }\n\n      var bbox       = {},\n          matrix     = targetel.getScreenCTM(),\n          tbbox      = targetel.getBBox(),\n          width      = tbbox.width,\n          height     = tbbox.height,\n          x          = tbbox.x,\n          y          = tbbox.y\n\n      point.x = x\n      point.y = y\n      bbox.nw = point.matrixTransform(matrix)\n      point.x += width\n      bbox.ne = point.matrixTransform(matrix)\n      point.y += height\n      bbox.se = point.matrixTransform(matrix)\n      point.x -= width\n      bbox.sw = point.matrixTransform(matrix)\n      point.y -= height / 2\n      bbox.w = point.matrixTransform(matrix)\n      point.x += width\n      bbox.e = point.matrixTransform(matrix)\n      point.x -= width / 2\n      point.y -= height / 2\n      bbox.n = point.matrixTransform(matrix)\n      point.y += height\n      bbox.s = point.matrixTransform(matrix)\n\n      return bbox\n    }\n\n    // Private - replace D3JS 3.X d3.functor() function\n    function functor(v) {\n      return typeof v === 'function' ? v : function() {\n        return v\n      }\n    }\n\n    return tip\n  }\n// eslint-disable-next-line semi\n}));\n"]},"metadata":{},"sourceType":"module"}